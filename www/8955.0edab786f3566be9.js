"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8955],{5961:(P,d,t)=>{t.d(d,{GW:()=>h,dk:()=>c,oK:()=>g});var g=function(o){return o.Prompt="PROMPT",o.Camera="CAMERA",o.Photos="PHOTOS",o}(g||{}),h=function(o){return o.Rear="REAR",o.Front="FRONT",o}(h||{}),c=function(o){return o.Uri="uri",o.Base64="base64",o.DataUrl="dataUrl",o}(c||{})},8955:(P,d,t)=>{t.r(d),t.d(d,{EscanearPageModule:()=>O});var g=t(6814),h=t(95),c=t(7027),o=t(4875),f=t(5861),m=t(2726);const p=(0,m.fo)("BarcodeScanner",{web:()=>t.e(7111).then(t.bind(t,7111)).then(e=>new e.BarcodeScannerWeb)});var v=t(5961);const E=(0,m.fo)("Camera",{web:()=>t.e(6468).then(t.bind(t,6468)).then(e=>new e.CameraWeb)});var n=t(5879),A=t(7862),M=t(8588);const Z=[{path:"",component:(()=>{var e;class i{constructor(r,s,a,u){this.activatedRoute=r,this.helper=s,this.asistenciaService=a,this.router=u,this.infoQr=[],this.nombre="",this.asignatura="",this.docente="",this.fecha="",this.hora="",this.leccion="",this.sala="",this.seccion=""}ngOnInit(){}takePicture(){var r=this;return(0,f.Z)(function*(){const s=yield E.getPhoto({quality:90,allowEditing:!1,resultType:v.dk.Uri});r.capturedImage=s.webPath})()}scan(){var r=this;return(0,f.Z)(function*(){try{const s=(yield p.scan()).code;if(s){let a;try{a=JSON.parse(s),a&&(a.asignatura&&a.docente&&a.fecha&&a.hora&&a.leccion&&a.sala&&a.seccion?(r.asistenciaService.guardarAsistencia({asignatura:a.asignatura,docente:a.docente,fecha:a.fecha,hora:a.hora,leccion:a.leccion,sala:a.sala,seccion:a.seccion}),r.helper.showModal(s,{dataQr:a}),r.router.navigate(["/asistencia"])):console.error("El c\xf3digo QR no tiene las propiedades necesarias."))}catch(u){console.error("Error al parsear el c\xf3digo QR como JSON:",u)}}}catch(s){console.error("Error al escanear el c\xf3digo QR:",s)}})()}}return(e=i).\u0275fac=function(r){return new(r||e)(n.Y36(o.gz),n.Y36(A.W),n.Y36(M.l),n.Y36(o.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-escanear"]],decls:16,vars:3,consts:[[3,"translucent"],["slot","start"],["routerLink","/menu","icon","arrow-back"],[3,"fullscreen"],[1,"ion-text-center","scanner-container"],["name","scan",1,"scanner-icon","mi-elemento"],["color","tertiary","expand","full",3,"click"],["expand","full",3,"click"],[3,"src"]],template:function(r,s){1&r&&(n.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),n._UZ(3,"ion-back-button",2),n.qZA(),n.TgZ(4,"ion-title"),n._uU(5,"Escanear"),n.qZA()()(),n.TgZ(6,"ion-content",3)(7,"div",4),n._UZ(8,"ion-icon",5),n.TgZ(9,"h2"),n._uU(10,"Esc\xe1ner"),n.qZA(),n.TgZ(11,"ion-button",6),n.NdJ("click",function(){return s.scan()}),n._uU(12,"Escanear"),n.qZA()(),n.TgZ(13,"ion-button",7),n.NdJ("click",function(){return s.takePicture()}),n._uU(14," Seleccionar foto "),n.qZA(),n._UZ(15,"ion-img",8),n.qZA()),2&r&&(n.Q6J("translucent",!0),n.xp6(6),n.Q6J("fullscreen",!0),n.xp6(9),n.Q6J("src",s.capturedImage))},dependencies:[c.oU,c.YG,c.Sm,c.W2,c.Gu,c.gu,c.Xz,c.wd,c.sr,c.cs,c.YI,o.rH],styles:[".header-card[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;border-radius:8px;box-shadow:0 0 10px #0003}ion-content[_ngcontent-%COMP%]{--background: linear-gradient(to bottom, #1A1A1A, #00377b, #FFB800);color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%}.scanner-container[_ngcontent-%COMP%]{margin-top:20px}.scanner-icon[_ngcontent-%COMP%]{font-size:100px;color:#007bff}.mi-elemento[_ngcontent-%COMP%]{width:100px;height:100px;animation:_ngcontent-%COMP%_miAnimacion 2s ease infinite}@keyframes _ngcontent-%COMP%_miAnimacion{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}"]}),i})()}];let y=(()=>{var e;class i{}return(e=i).\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[o.Bz.forChild(Z),o.Bz]}),i})(),O=(()=>{var e;class i{}return(e=i).\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[g.ez,h.u5,c.Pc,y]}),i})()}}]);